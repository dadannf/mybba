# ğŸš‚ RAILWAY DEPLOYMENT - QUICK REFERENCE

## âš¡ TL;DR - Deploy dalam 5 Menit

```bash
# 1. Install Railway CLI
npm i -g @railway/cli

# 2. Login
railway login

# 3. Create project
railway init

# 4. Add MySQL database di Railway Dashboard

# 5. Set environment variables di Dashboard

# 6. Deploy!
railway up
```

---

## ğŸ”§ FIXES APPLIED

### âŒ Old Problem:
```
ERROR: "/vendor": not found
```

### âœ… Solution:
**Dockerfile sekarang:**
- âœ… Install Composer di container
- âœ… Run `composer install` saat build
- âœ… TIDAK copy folder `vendor/` dari local
- âœ… Dependencies di-build fresh di Railway

**Changes Made:**
1. âœ… Updated `Dockerfile` - Install deps via composer
2. âœ… Updated `.dockerignore` - Remove vendor from ignore
3. âœ… Created `railway.toml` - Railway config
4. âœ… Created `RAILWAY_DEPLOYMENT.md` - Full guide
5. âœ… Created deploy scripts (`.sh` & `.ps1`)

---

## ğŸ“‹ Required Environment Variables

Set di **Railway Dashboard â†’ Variables**:

```env
# Database (dari Railway MySQL service)
DB_HOST=containers-us-west-xxx.railway.app
DB_PORT=3306
DB_DATABASE=railway
DB_USERNAME=root
DB_PASSWORD=xxxxx

# App
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-app.railway.app
```

---

## ğŸš€ Deployment Commands

```bash
# Deploy via script (recommended)
./deploy-railway.ps1  # Windows
./deploy-railway.sh   # Linux/Mac

# Or manual
railway login
railway init
railway up

# Check logs
railway logs

# Open app
railway open
```

---

## ğŸ“¦ Files Modified/Created

| File | Status | Purpose |
|------|--------|---------|
| `Dockerfile` | âœ… FIXED | Install composer deps in container |
| `.dockerignore` | âœ… UPDATED | Remove vendor from ignore list |
| `railway.toml` | âœ… NEW | Railway configuration |
| `RAILWAY_DEPLOYMENT.md` | âœ… NEW | Full deployment guide |
| `deploy-railway.sh` | âœ… NEW | Bash deployment script |
| `deploy-railway.ps1` | âœ… NEW | PowerShell deploy script |
| `RAILWAY_QUICK_REF.txt` | âœ… NEW | This file |

---

## ğŸ¯ Deployment Checklist

- [ ] Railway CLI installed (`npm i -g @railway/cli`)
- [ ] Project linked/created (`railway init`)
- [ ] MySQL database added in Railway Dashboard
- [ ] Environment variables set in Dashboard
- [ ] Code pushed to Git (Railway auto-deploys from Git)
- [ ] Database imported after first deploy
- [ ] SSL/HTTPS working (auto by Railway)

---

## ğŸ› Troubleshooting

### Build fails with "/vendor not found"
âœ… **SOLVED** - Use updated Dockerfile (install deps via composer)

### Database connection error
- Check DB_* environment variables
- Ensure MySQL service is running in Railway
- Copy credentials from Railway MySQL service

### Port error
- Railway auto-detects port 80 from Dockerfile
- No need to change anything

### Uploads not working
- Railway filesystem is ephemeral
- Use S3/Cloudflare R2 for persistent uploads
- Or enable persistent volume in Railway

---

## ğŸ’° Railway Free Tier

- **$5 credit/month** (auto-renews)
- **500 execution hours/month**
- **100GB bandwidth**
- **1GB RAM per service**
- **Perfect for development & testing**

---

## ğŸ”— Quick Links

- **Dashboard:** https://railway.app/dashboard
- **Docs:** https://docs.railway.app
- **CLI Docs:** https://docs.railway.app/develop/cli
- **Templates:** https://railway.app/templates

---

## ğŸ“ Support

**Full Guide:** [RAILWAY_DEPLOYMENT.md](RAILWAY_DEPLOYMENT.md)

**Common Commands:**
```bash
railway logs              # View logs
railway logs --follow     # Follow logs (live)
railway open              # Open app in browser
railway run bash          # SSH into container
railway status            # Check deployment status
railway variables         # List env variables
railway down              # Stop deployment
```

---

**âœ… STATUS: READY TO DEPLOY**

Project sudah dikonfigurasi dengan benar untuk Railway deployment.
Tinggal jalankan `railway up` atau script deployment!

---

_Last Updated: December 15, 2025_
_Error Fixed: "/vendor not found"_
